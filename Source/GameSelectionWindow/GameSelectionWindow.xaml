<Window x:Class="AutoImportPlugin.GameSelectionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Games to Import"
        Height="550" Width="900"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Background="#1E1E1E"
        Foreground="#F0F0F0">

  <Window.Resources>
    <Style TargetType="Button">
      <Setter Property="Background" Value="#333333"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderBrush" Value="#454545"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="Padding" Value="15,6"/>
      <Setter Property="FontSize" Value="13"/>
      <Setter Property="Margin" Value="0,0,10,0"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="4">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#454545"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="#252525"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style TargetType="CheckBox">
      <Setter Property="HorizontalAlignment" Value="Center"/>
      <Setter Property="VerticalAlignment" Value="Center"/>
    </Style>
  </Window.Resources>

  <Grid Margin="15">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <StackPanel Grid.Row="0" Margin="0,0,0,15">
      <TextBlock Text="Select 'Import' to add to library. Select 'Ignore' to block from future scans."
                 FontSize="14"
                 Foreground="#AAAAAA"
                 Margin="0,5,0,0"/>
    </StackPanel>

    <DataGrid x:Name="GridGames"
              Grid.Row="1"
              AutoGenerateColumns="False"
              CanUserAddRows="False"
              HeadersVisibility="Column"
              SelectionMode="Single"
              Background="#202020"
              BorderBrush="#3E3E3E"
              BorderThickness="1"
              GridLinesVisibility="Horizontal"
              HorizontalGridLinesBrush="#303030"
              VerticalGridLinesBrush="#303030"
              RowBackground="Transparent"
              Foreground="#DDDDDD">

      <DataGrid.Resources>
        <Style TargetType="DataGridColumnHeader">
          <Setter Property="Background" Value="#2D2D2D"/>
          <Setter Property="Foreground" Value="White"/>
          <Setter Property="Padding" Value="10,8"/>
          <Setter Property="BorderBrush" Value="#3E3E3E"/>
          <Setter Property="BorderThickness" Value="0,0,1,1"/>
          <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style TargetType="DataGridCell">
          <Setter Property="BorderThickness" Value="0"/>
          <Setter Property="Padding" Value="5"/>
          <Setter Property="Template">
            <Setter.Value>
              <ControlTemplate TargetType="DataGridCell">
                <Border Padding="{TemplateBinding Padding}"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}">
                  <ContentPresenter VerticalAlignment="Center"/>
                </Border>
              </ControlTemplate>
            </Setter.Value>
          </Setter>
          <Style.Triggers>
            <Trigger Property="IsSelected" Value="True">
              <Setter Property="Background" Value="#353535"/>
              <Setter Property="Foreground" Value="White"/>
            </Trigger>
          </Style.Triggers>
        </Style>
      </DataGrid.Resources>

      <DataGrid.Columns>
        <DataGridTemplateColumn Header="Import" Width="60">
          <DataGridTemplateColumn.CellTemplate>
            <DataTemplate>
              <CheckBox IsChecked="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}" />
            </DataTemplate>
          </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>

        <DataGridTemplateColumn Header="Ignore" Width="60">
          <DataGridTemplateColumn.CellTemplate>
            <DataTemplate>
              <CheckBox IsChecked="{Binding IsIgnored, UpdateSourceTrigger=PropertyChanged}" />
            </DataTemplate>
          </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>

        <DataGridTextColumn Binding="{Binding Name}"
                            Header="Name"
                            Width="300"
                            IsReadOnly="True"/>

        <DataGridTextColumn Binding="{Binding ExecutablePath}"
                            Header="Executable Path"
                            Width="*"
                            IsReadOnly="True"/>
      </DataGrid.Columns>
    </DataGrid>

    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
      <Button Content="Import Selected" Click="BtnImport_Click" IsDefault="True"/>
      <Button Content="Cancel" Click="BtnCancel_Click" IsCancel="True" Margin="0"/>
    </StackPanel>
  </Grid>
</Window>